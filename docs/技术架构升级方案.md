# é›¶ç¢³å›­åŒºæ•°å­—å­ªç”Ÿç³»ç»ŸæŠ€æœ¯æ¶æ„å‡çº§æ–¹æ¡ˆ

ç‰ˆæœ¬ï¼šV2.0  
ç¼–åˆ¶æ—¥æœŸï¼š2025å¹´6æœˆ10æ—¥  
çŠ¶æ€ï¼šâœ… å·²å®Œæˆå®æ–½

## ğŸ“‹ æ–¹æ¡ˆæ¦‚è¿°

æœ¬æ–¹æ¡ˆè¯¦ç»†é˜è¿°é›¶ç¢³å›­åŒºæ•°å­—å­ªç”Ÿç³»ç»Ÿä»V1.0åˆ°V2.0çš„æŠ€æœ¯æ¶æ„å‡çº§è·¯å¾„ï¼Œé‡ç‚¹è¯´æ˜å¦‚ä½•é€šè¿‡å…ˆè¿›çš„æŠ€æœ¯æ¶æ„æ”¯æ’‘å›½å®¶çº§é›¶ç¢³å›­åŒºå»ºè®¾è¦æ±‚ï¼Œå®ç°"èƒ½-ç¢³-äº§-èµ„æº"ä¸€ä½“åŒ–ç®¡ç†çš„æ™ºæ…§å¤§è„‘ã€‚

## ğŸ¯ å‡çº§ç›®æ ‡

### æ ¸å¿ƒå‡çº§ç›®æ ‡

1. **æ¶æ„ç°ä»£åŒ–**ï¼šä»å•ä½“æ¶æ„å‡çº§ä¸ºäº‘åŸç”Ÿå¾®æœåŠ¡æ¶æ„
2. **æ€§èƒ½æå‡**ï¼šæ•°æ®å¤„ç†èƒ½åŠ›æå‡10å€ï¼Œå“åº”æ—¶é—´ç¼©çŸ­80%
3. **åŠŸèƒ½æ‰©å±•**ï¼šä»èƒ½æºç®¡ç†æ‰©å±•ä¸ºå…­å¤§æ ¸å¿ƒæ¨¡å—çš„ç»¼åˆå¹³å°
4. **æ ‡å‡†å¯¹æ¥**ï¼š100%å¯¹æ ‡å›½å®¶é›¶ç¢³å›­åŒºå»ºè®¾æ ‡å‡†
5. **æ™ºèƒ½åŒ–å‡çº§**ï¼šé›†æˆAI/MLç®—æ³•ï¼Œå®ç°æ™ºèƒ½å†³ç­–æ”¯æŒ

### æŠ€æœ¯æŒ‡æ ‡ç›®æ ‡

| æŠ€æœ¯æŒ‡æ ‡ | V1.0ç°çŠ¶ | V2.0ç›®æ ‡ | æå‡å¹…åº¦ |
|---------|---------|---------|----------|
| æ•°æ®å¤„ç†ååé‡ | 1ä¸‡æ¡/ç§’ | 10ä¸‡æ¡/ç§’ | 10å€ |
| APIå“åº”æ—¶é—´ | 1000ms | 200ms | 80%æå‡ |
| å¹¶å‘ç”¨æˆ·æ•° | 50ç”¨æˆ· | 500ç”¨æˆ· | 10å€ |
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.5% | 99.9% | 0.4%æå‡ |
| æ•°æ®å®æ—¶æ€§ | 5ç§’å»¶è¿Ÿ | 1ç§’å»¶è¿Ÿ | 80%æå‡ |

## ğŸ—ï¸ æ€»ä½“æ¶æ„è®¾è®¡

### æ¶æ„æ¼”è¿›è·¯å¾„

```
V1.0 å•ä½“æ¶æ„ â†’ V2.0 äº‘åŸç”Ÿå¾®æœåŠ¡æ¶æ„

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   V1.0 æ¶æ„     â”‚    â”‚           V2.0 æ¶æ„                  â”‚
â”‚                â”‚    â”‚                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   å•ä½“åº”ç”¨   â”‚ â”‚ => â”‚ â”‚å¾®æœåŠ¡A  â”‚ â”‚å¾®æœåŠ¡B  â”‚ â”‚å¾®æœåŠ¡C  â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”‚        æœåŠ¡ç½‘æ ¼ (Istio)          â”‚ â”‚
â”‚ â”‚   MySQL     â”‚ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚ MongoDB â”‚ â”‚ Redis   â”‚ â”‚ InfluxDBâ”‚ â”‚
                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å››å±‚æ¶æ„è®¾è®¡

#### 1. æ•°æ®é‡‡é›†å±‚ (Data Acquisition Layer)

**æŠ€æœ¯æ ˆï¼š**
- **åè®®æ”¯æŒ**ï¼šModbus TCP/RTU, OPC-UA, MQTT, HTTP/HTTPS, WebSocket
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šApache Kafka (é«˜ååé‡æ•°æ®æµ)
- **æ•°æ®ç½‘å…³**ï¼šSpring Cloud Gateway + è‡ªç ”åè®®é€‚é…å™¨
- **è¾¹ç¼˜è®¡ç®—**ï¼šK3s + EdgeX Foundry

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
```javascript
// æ•°æ®é‡‡é›†æœåŠ¡ç¤ºä¾‹
class DataCollectionService {
  async collectEnergyData() {
    const sources = [
      { type: 'modbus', endpoint: '192.168.1.100:502' },
      { type: 'opcua', endpoint: 'opc.tcp://192.168.1.101:4840' },
      { type: 'mqtt', endpoint: 'mqtt://broker.example.com:1883' }
    ];
    
    return Promise.all(
      sources.map(source => this.collectFromSource(source))
    );
  }
  
  async processRealTimeData(data) {
    // æ•°æ®æ¸…æ´—å’Œæ ‡å‡†åŒ–
    const cleanedData = await this.dataCleaningPipeline(data);
    
    // å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—
    await this.kafkaProducer.send({
      topic: 'energy-data-stream',
      messages: [{ value: JSON.stringify(cleanedData) }]
    });
  }
}
```

#### 2. æ•°æ®ä¸­å°å±‚ (Data Platform Layer)

**æŠ€æœ¯æ ˆï¼š**
- **æ•°æ®æ¹–**ï¼šMinIO (å¯¹è±¡å­˜å‚¨) + Apache Iceberg (æ•°æ®æ¹–æ ¼å¼)
- **å®æ—¶è®¡ç®—**ï¼šApache Flink + Apache Storm
- **æ‰¹å¤„ç†**ï¼šApache Spark + Hadoop
- **æ•°æ®ä»“åº“**ï¼šClickHouse (OLAP) + PostgreSQL (OLTP)
- **æ—¶åºæ•°æ®åº“**ï¼šInfluxDB + TimescaleDB
- **ç¼“å­˜å±‚**ï¼šRedis Cluster + Hazelcast

**æ•°æ®æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®ä¸­å°æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®æœåŠ¡å±‚ â”‚ èƒ½æºæ•°æ®æœåŠ¡ â”‚ ç¢³æ’æ”¾æ•°æ®æœåŠ¡ â”‚ ç”Ÿäº§æ•°æ®æœåŠ¡ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®è®¡ç®—å±‚ â”‚   å®æ—¶è®¡ç®—   â”‚   æ‰¹é‡è®¡ç®—    â”‚   æœºå™¨å­¦ä¹    â”‚
â”‚           â”‚  (Flink)    â”‚   (Spark)     â”‚   (MLflow)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®å­˜å‚¨å±‚ â”‚   æ—¶åºæ•°æ®   â”‚   å…³ç³»æ•°æ®    â”‚   æ–‡æ¡£æ•°æ®   â”‚
â”‚           â”‚  (InfluxDB)  â”‚ (PostgreSQL)  â”‚  (MongoDB)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®æ¥å…¥å±‚ â”‚   æ¶ˆæ¯é˜Ÿåˆ—   â”‚   æ•°æ®ç½‘å…³    â”‚   ETLå·¥å…·    â”‚
â”‚           â”‚   (Kafka)    â”‚  (Gateway)    â”‚  (Airflow)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼š**
```sql
-- èƒ½æºæ¶ˆè´¹æ•°æ®æ¨¡å‹
CREATE TABLE energy_consumption (
    id BIGSERIAL PRIMARY KEY,
    enterprise_id VARCHAR(50) NOT NULL,
    energy_type VARCHAR(20) NOT NULL, -- coal, gas, electricity, etc.
    consumption_amount DECIMAL(15,3) NOT NULL,
    unit VARCHAR(10) NOT NULL,
    timestamp TIMESTAMPTZ NOT NULL,
    data_source VARCHAR(50),
    quality_score DECIMAL(3,2),
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ç¢³æ’æ”¾æ•°æ®æ¨¡å‹
CREATE TABLE carbon_emissions (
    id BIGSERIAL PRIMARY KEY,
    enterprise_id VARCHAR(50) NOT NULL,
    emission_source VARCHAR(50) NOT NULL, -- energy_activity, industrial_process
    emission_amount DECIMAL(15,3) NOT NULL,
    calculation_method VARCHAR(50),
    emission_factor DECIMAL(10,6),
    timestamp TIMESTAMPTZ NOT NULL,
    verification_status VARCHAR(20),
    created_at TIMESTAMPTZ DEFAULT NOW()
);
```

#### 3. æ ¸å¿ƒåº”ç”¨å±‚ (Core Application Layer)

**æŠ€æœ¯æ ˆï¼š**
- **å¾®æœåŠ¡æ¡†æ¶**ï¼šSpring Boot 3.0 + Spring Cloud 2022
- **APIç½‘å…³**ï¼šSpring Cloud Gateway + Kong
- **æœåŠ¡å‘ç°**ï¼šConsul + Eureka
- **é…ç½®ç®¡ç†**ï¼šSpring Cloud Config + Apollo
- **ç†”æ–­å™¨**ï¼šResilience4j + Hystrix
- **è´Ÿè½½å‡è¡¡**ï¼šRibbon + Nginx

**å¾®æœåŠ¡æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ ¸å¿ƒåº”ç”¨å±‚æ¶æ„                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ APIç½‘å…³å±‚  â”‚        Spring Cloud Gateway              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚ èƒ½ç¢³æ ¸ç®— â”‚ ä¼˜åŒ–è°ƒåº¦ â”‚ ä¼ä¸šè¯Šæ–­ â”‚ èµ„æºå¾ªç¯ â”‚
â”‚ ä¸šåŠ¡æœåŠ¡å±‚ â”‚  æœåŠ¡   â”‚   æœåŠ¡   â”‚   æœåŠ¡   â”‚   æœåŠ¡   â”‚
â”‚           â”‚ è™šæ‹Ÿç”µå‚ â”‚ æ•°æ®èµ„äº§ â”‚ ç”³æŠ¥éªŒæ”¶ â”‚ åŸºç¡€è®¾æ–½ â”‚
â”‚           â”‚  æœåŠ¡   â”‚   æœåŠ¡   â”‚   æœåŠ¡   â”‚   æœåŠ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸºç¡€æœåŠ¡å±‚ â”‚ è®¤è¯æˆæƒ â”‚ æ¶ˆæ¯é€šçŸ¥ â”‚ æ–‡ä»¶ç®¡ç† â”‚ æ—¥å¿—å®¡è®¡ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒæœåŠ¡å®ç°ï¼š**
```java
// ç¢³æ’æ”¾æ ¸ç®—æœåŠ¡
@Service
@Transactional
public class CarbonAccountingService {
    
    @Autowired
    private EnergyDataService energyDataService;
    
    @Autowired
    private EmissionFactorService emissionFactorService;
    
    /**
     * å®æ—¶è®¡ç®—å›­åŒºæ€»ç¢³æ’æ”¾
     * Eå›­åŒº = Eèƒ½æºæ´»åŠ¨ + Eå·¥ä¸šè¿‡ç¨‹
     */
    public CarbonEmissionResult calculateTotalEmissions(String parkId, LocalDateTime startTime, LocalDateTime endTime) {
        // è®¡ç®—èƒ½æºæ´»åŠ¨æ’æ”¾
        BigDecimal energyEmissions = calculateEnergyActivityEmissions(parkId, startTime, endTime);
        
        // è®¡ç®—å·¥ä¸šè¿‡ç¨‹æ’æ”¾
        BigDecimal processEmissions = calculateIndustrialProcessEmissions(parkId, startTime, endTime);
        
        // è®¡ç®—æ€»æ’æ”¾
        BigDecimal totalEmissions = energyEmissions.add(processEmissions);
        
        return CarbonEmissionResult.builder()
            .totalEmissions(totalEmissions)
            .energyActivityEmissions(energyEmissions)
            .industrialProcessEmissions(processEmissions)
            .calculationTime(LocalDateTime.now())
            .build();
    }
    
    /**
     * è®¡ç®—èƒ½æºæ´»åŠ¨æ’æ”¾
     * Eèƒ½æºæ´»åŠ¨ = Eç”¨ä½œç‡ƒæ–™ + EåŠ å·¥è½¬æ¢ + Eé—´æ¥æ’æ”¾
     */
    private BigDecimal calculateEnergyActivityEmissions(String parkId, LocalDateTime startTime, LocalDateTime endTime) {
        // è·å–èƒ½æºæ¶ˆè´¹æ•°æ®
        List<EnergyConsumption> consumptions = energyDataService.getConsumptionData(parkId, startTime, endTime);
        
        BigDecimal totalEmissions = BigDecimal.ZERO;
        
        for (EnergyConsumption consumption : consumptions) {
            // è·å–å¯¹åº”çš„æ’æ”¾å› å­
            EmissionFactor factor = emissionFactorService.getEmissionFactor(
                consumption.getEnergyType(), 
                consumption.getActivityType()
            );
            
            // è®¡ç®—æ’æ”¾é‡ = æ´»åŠ¨æ°´å¹³ Ã— æ’æ”¾å› å­
            BigDecimal emission = consumption.getAmount().multiply(factor.getValue());
            totalEmissions = totalEmissions.add(emission);
        }
        
        return totalEmissions;
    }
}
```

#### 4. äº¤äº’å±•ç¤ºå±‚ (Presentation Layer)

**æŠ€æœ¯æ ˆï¼š**
- **å‰ç«¯æ¡†æ¶**ï¼šVue 3.0 + TypeScript + Vite
- **UIç»„ä»¶åº“**ï¼šElement Plus + Ant Design Vue
- **3Då¯è§†åŒ–**ï¼šThree.js + Cesium.js + D3.js
- **å›¾è¡¨åº“**ï¼šECharts + Chart.js + G2Plot
- **ç§»åŠ¨ç«¯**ï¼šUni-app + Flutter
- **å¤§å±å±•ç¤º**ï¼šDataV + è‡ªç ”å¤§å±ç»„ä»¶

**å‰ç«¯æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å‰ç«¯æ¶æ„è®¾è®¡                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å±•ç¤ºå±‚    â”‚  PC Webç«¯  â”‚  ç§»åŠ¨Appç«¯  â”‚  æŒ‡æŒ¥ä¸­å¿ƒå¤§å±  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç»„ä»¶å±‚    â”‚  ä¸šåŠ¡ç»„ä»¶  â”‚  é€šç”¨ç»„ä»¶   â”‚   å›¾è¡¨ç»„ä»¶    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ€ç®¡ç†  â”‚    Pinia   â”‚   Vuex     â”‚    Context    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è·¯ç”±ç®¡ç†  â”‚ Vue Router â”‚ Uni Router â”‚  è‡ªå®šä¹‰è·¯ç”±   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç½‘ç»œå±‚    â”‚    Axios   â”‚   Request  â”‚   WebSocket   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ å…³é”®æŠ€æœ¯å®ç°

### 1. å®æ—¶æ•°æ®å¤„ç†æ¶æ„

**Lambdaæ¶æ„å®ç°ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Lambdaæ¶æ„è®¾è®¡                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®æº    â”‚  IoTè®¾å¤‡   â”‚  ä¸šåŠ¡ç³»ç»Ÿ   â”‚   å¤–éƒ¨API    â”‚
â”‚          â”‚           â”‚           â”‚             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¶ˆæ¯é˜Ÿåˆ—  â”‚              Apache Kafka               â”‚
â”‚          â”‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å®æ—¶å¤„ç†  â”‚              Apache Flink              â”‚
â”‚ (Speed)   â”‚          (æ¯«ç§’çº§å“åº”)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‰¹å¤„ç†    â”‚              Apache Spark              â”‚
â”‚ (Batch)   â”‚          (å°æ—¶çº§/å¤©çº§)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æœåŠ¡å±‚    â”‚              æŸ¥è¯¢æœåŠ¡                   â”‚
â”‚ (Serving) â”‚        (å®æ—¶ + æ‰¹å¤„ç†ç»“æœ)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®æ—¶è®¡ç®—å¼•æ“ï¼š**
```java
// Flinkå®æ—¶è®¡ç®—ä»»åŠ¡
public class CarbonEmissionStreamProcessor {
    
    public static void main(String[] args) throws Exception {
        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();
        
        // é…ç½®Kafkaæ•°æ®æº
        FlinkKafkaConsumer<String> consumer = new FlinkKafkaConsumer<>(
            "energy-data-stream",
            new SimpleStringSchema(),
            kafkaProps
        );
        
        // å®æ—¶è®¡ç®—ç¢³æ’æ”¾
        DataStream<CarbonEmission> carbonStream = env
            .addSource(consumer)
            .map(new EnergyDataParser())
            .keyBy(EnergyData::getEnterpriseId)
            .window(TumblingProcessingTimeWindows.of(Time.minutes(1)))
            .aggregate(new CarbonEmissionAggregator());
        
        // è¾“å‡ºåˆ°æ—¶åºæ•°æ®åº“
        carbonStream.addSink(new InfluxDBSink());
        
        env.execute("Carbon Emission Real-time Calculation");
    }
}
```

### 2. AI/MLç®—æ³•é›†æˆ

**æœºå™¨å­¦ä¹ å¹³å°æ¶æ„ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MLå¹³å°æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨¡å‹æœåŠ¡  â”‚  é¢„æµ‹æœåŠ¡   â”‚  æ¨èæœåŠ¡   â”‚  ä¼˜åŒ–æœåŠ¡    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨¡å‹ç®¡ç†  â”‚   MLflow    â”‚  Kubeflow  â”‚   Seldon    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è®­ç»ƒå¹³å°  â”‚  Jupyter    â”‚  TensorFlow â”‚  PyTorch    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®å‡†å¤‡  â”‚  ç‰¹å¾å·¥ç¨‹   â”‚  æ•°æ®æ ‡æ³¨   â”‚  æ•°æ®éªŒè¯    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç®—æ³•å®ç°ï¼š**
```python
# èƒ½æºæ¶ˆè´¹é¢„æµ‹æ¨¡å‹
class EnergyConsumptionPredictor:
    def __init__(self):
        self.model = None
        self.scaler = StandardScaler()
        
    def train(self, historical_data):
        """è®­ç»ƒLSTMæ¨¡å‹é¢„æµ‹èƒ½æºæ¶ˆè´¹"""
        # ç‰¹å¾å·¥ç¨‹
        features = self.feature_engineering(historical_data)
        X, y = self.prepare_sequences(features)
        
        # æ„å»ºLSTMæ¨¡å‹
        model = Sequential([
            LSTM(50, return_sequences=True, input_shape=(X.shape[1], X.shape[2])),
            Dropout(0.2),
            LSTM(50, return_sequences=False),
            Dropout(0.2),
            Dense(25),
            Dense(1)
        ])
        
        model.compile(optimizer='adam', loss='mse')
        model.fit(X, y, epochs=100, batch_size=32, validation_split=0.2)
        
        self.model = model
        
    def predict(self, current_data, forecast_horizon=24):
        """é¢„æµ‹æœªæ¥24å°æ—¶èƒ½æºæ¶ˆè´¹"""
        features = self.feature_engineering(current_data)
        scaled_features = self.scaler.transform(features)
        
        predictions = []
        for i in range(forecast_horizon):
            pred = self.model.predict(scaled_features[-60:].reshape(1, 60, -1))
            predictions.append(pred[0][0])
            
            # æ›´æ–°è¾“å…¥åºåˆ—
            scaled_features = np.append(scaled_features, pred.reshape(1, -1), axis=0)
            
        return self.scaler.inverse_transform(np.array(predictions).reshape(-1, 1))
```

### 3. æ•°å­—å­ªç”Ÿ3Då¯è§†åŒ–

**3Dæ¸²æŸ“å¼•æ“ï¼š**
```javascript
// Three.jsæ•°å­—å­ªç”Ÿåœºæ™¯
class DigitalTwinScene {
    constructor(container) {
        this.scene = new THREE.Scene();
        this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        this.renderer = new THREE.WebGLRenderer({ antialias: true });
        this.container = container;
        
        this.init();
    }
    
    init() {
        // è®¾ç½®æ¸²æŸ“å™¨
        this.renderer.setSize(window.innerWidth, window.innerHeight);
        this.renderer.shadowMap.enabled = true;
        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        this.container.appendChild(this.renderer.domElement);
        
        // æ·»åŠ å…‰æº
        this.addLights();
        
        // åŠ è½½å›­åŒº3Dæ¨¡å‹
        this.loadParkModel();
        
        // æ·»åŠ å®æ—¶æ•°æ®å¯è§†åŒ–
        this.addDataVisualization();
        
        // å¼€å§‹æ¸²æŸ“å¾ªç¯
        this.animate();
    }
    
    loadParkModel() {
        const loader = new THREE.GLTFLoader();
        loader.load('/models/park.gltf', (gltf) => {
            this.parkModel = gltf.scene;
            this.scene.add(this.parkModel);
            
            // ä¸ºå»ºç­‘ç‰©æ·»åŠ äº¤äº’åŠŸèƒ½
            this.addBuildingInteractions();
        });
    }
    
    updateRealTimeData(data) {
        // æ›´æ–°èƒ½æºæµåŠ¨åŠ¨ç”»
        this.updateEnergyFlow(data.energyFlow);
        
        // æ›´æ–°è®¾å¤‡çŠ¶æ€æŒ‡ç¤ºå™¨
        this.updateDeviceStatus(data.deviceStatus);
        
        // æ›´æ–°ç¢³æ’æ”¾çƒ­åŠ›å›¾
        this.updateCarbonHeatmap(data.carbonEmissions);
    }
    
    animate() {
        requestAnimationFrame(() => this.animate());
        
        // æ›´æ–°æ§åˆ¶å™¨
        this.controls.update();
        
        // æ¸²æŸ“åœºæ™¯
        this.renderer.render(this.scene, this.camera);
    }
}
```

### 4. åŒºå—é“¾æŠ€æœ¯åº”ç”¨

**ç»¿è¯äº¤æ˜“æ™ºèƒ½åˆçº¦ï¼š**
```solidity
// ç»¿è‰²ç”µåŠ›è¯ä¹¦æ™ºèƒ½åˆçº¦
pragma solidity ^0.8.0;

contract GreenCertificate {
    struct Certificate {
        uint256 id;
        address issuer;
        address owner;
        uint256 amount; // MWh
        string energySource; // solar, wind, hydro
        uint256 issueDate;
        uint256 expiryDate;
        bool isRetired;
    }
    
    mapping(uint256 => Certificate) public certificates;
    mapping(address => uint256[]) public ownerCertificates;
    
    event CertificateIssued(uint256 indexed id, address indexed issuer, uint256 amount);
    event CertificateTransferred(uint256 indexed id, address indexed from, address indexed to);
    event CertificateRetired(uint256 indexed id, address indexed owner);
    
    function issueCertificate(
        address to,
        uint256 amount,
        string memory energySource,
        uint256 expiryDate
    ) external returns (uint256) {
        uint256 certificateId = generateId();
        
        certificates[certificateId] = Certificate({
            id: certificateId,
            issuer: msg.sender,
            owner: to,
            amount: amount,
            energySource: energySource,
            issueDate: block.timestamp,
            expiryDate: expiryDate,
            isRetired: false
        });
        
        ownerCertificates[to].push(certificateId);
        
        emit CertificateIssued(certificateId, msg.sender, amount);
        return certificateId;
    }
    
    function retireCertificate(uint256 certificateId) external {
        require(certificates[certificateId].owner == msg.sender, "Not certificate owner");
        require(!certificates[certificateId].isRetired, "Certificate already retired");
        
        certificates[certificateId].isRetired = true;
        
        emit CertificateRetired(certificateId, msg.sender);
    }
}
```

## ğŸ”’ å®‰å…¨æ¶æ„è®¾è®¡

### å¤šå±‚å®‰å…¨é˜²æŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å®‰å…¨æ¶æ„è®¾è®¡                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åº”ç”¨å®‰å…¨  â”‚  èº«ä»½è®¤è¯   â”‚  æƒé™æ§åˆ¶   â”‚  æ•°æ®è„±æ•    â”‚
â”‚          â”‚   (OAuth2)  â”‚   (RBAC)   â”‚  (Masking)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç½‘ç»œå®‰å…¨  â”‚   é˜²ç«å¢™    â”‚    WAF     â”‚   DDoSé˜²æŠ¤   â”‚
â”‚          â”‚ (iptables)  â”‚  (ModSec)  â”‚  (CloudFlare)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®å®‰å…¨  â”‚  ä¼ è¾“åŠ å¯†   â”‚  å­˜å‚¨åŠ å¯†   â”‚  å¤‡ä»½åŠ å¯†    â”‚
â”‚          â”‚   (TLS1.3)  â”‚   (AES256) â”‚   (GPG)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸºç¡€å®‰å…¨  â”‚  å®¹å™¨å®‰å…¨   â”‚  é•œåƒæ‰«æ   â”‚  è¿è¡Œæ—¶ä¿æŠ¤  â”‚
â”‚          â”‚  (Falco)    â”‚  (Trivy)   â”‚  (Sysdig)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### èº«ä»½è®¤è¯ä¸æˆæƒ

```java
// JWT Tokenå®‰å…¨é…ç½®
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        return http
            .csrf().disable()
            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)
            .and()
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/api/public/**").permitAll()
                .requestMatchers("/api/admin/**").hasRole("ADMIN")
                .requestMatchers("/api/enterprise/**").hasRole("ENTERPRISE")
                .anyRequest().authenticated()
            )
            .oauth2ResourceServer().jwt()
            .and()
            .build();
    }
    
    @Bean
    public JwtDecoder jwtDecoder() {
        return NimbusJwtDecoder.withJwkSetUri("https://auth.example.com/.well-known/jwks.json")
            .build();
    }
}
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. æ•°æ®åº“ä¼˜åŒ–

```sql
-- æ—¶åºæ•°æ®åˆ†åŒºç­–ç•¥
CREATE TABLE energy_consumption_2025 PARTITION OF energy_consumption
FOR VALUES FROM ('2025-01-01') TO ('2026-01-01');

-- ç´¢å¼•ä¼˜åŒ–
CREATE INDEX CONCURRENTLY idx_energy_consumption_enterprise_time 
ON energy_consumption (enterprise_id, timestamp DESC);

-- ç‰©åŒ–è§†å›¾åŠ é€ŸæŸ¥è¯¢
CREATE MATERIALIZED VIEW mv_daily_carbon_emissions AS
SELECT 
    enterprise_id,
    DATE(timestamp) as date,
    SUM(emission_amount) as daily_emissions
FROM carbon_emissions
GROUP BY enterprise_id, DATE(timestamp);
```

### 2. ç¼“å­˜ç­–ç•¥

```java
// Redisç¼“å­˜é…ç½®
@Configuration
@EnableCaching
public class CacheConfig {
    
    @Bean
    public CacheManager cacheManager() {
        RedisCacheManager.Builder builder = RedisCacheManager
            .RedisCacheManagerBuilder
            .fromConnectionFactory(redisConnectionFactory())
            .cacheDefaults(cacheConfiguration());
        
        return builder.build();
    }
    
    private RedisCacheConfiguration cacheConfiguration() {
        return RedisCacheConfiguration.defaultCacheConfig()
            .entryTtl(Duration.ofMinutes(10))
            .serializeKeysWith(RedisSerializationContext.SerializationPair
                .fromSerializer(new StringRedisSerializer()))
            .serializeValuesWith(RedisSerializationContext.SerializationPair
                .fromSerializer(new GenericJackson2JsonRedisSerializer()));
    }
}

// ç¼“å­˜ä½¿ç”¨ç¤ºä¾‹
@Service
public class CarbonEmissionService {
    
    @Cacheable(value = "carbon-emissions", key = "#parkId + '_' + #date")
    public CarbonEmissionSummary getDailyEmissions(String parkId, LocalDate date) {
        // å¤æ‚è®¡ç®—é€»è¾‘
        return calculateDailyEmissions(parkId, date);
    }
}
```

### 3. å¼‚æ­¥å¤„ç†

```java
// å¼‚æ­¥ä»»åŠ¡é…ç½®
@Configuration
@EnableAsync
public class AsyncConfig {
    
    @Bean(name = "taskExecutor")
    public Executor taskExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setCorePoolSize(10);
        executor.setMaxPoolSize(50);
        executor.setQueueCapacity(100);
        executor.setThreadNamePrefix("async-task-");
        executor.initialize();
        return executor;
    }
}

// å¼‚æ­¥å¤„ç†ç¤ºä¾‹
@Service
public class ReportGenerationService {
    
    @Async("taskExecutor")
    public CompletableFuture<String> generateCarbonReport(String parkId, ReportRequest request) {
        // è€—æ—¶çš„æŠ¥å‘Šç”Ÿæˆé€»è¾‘
        String reportUrl = processReportGeneration(parkId, request);
        return CompletableFuture.completedFuture(reportUrl);
    }
}
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### Kuberneteséƒ¨ç½²æ¶æ„

```yaml
# éƒ¨ç½²é…ç½®ç¤ºä¾‹
apiVersion: apps/v1
kind: Deployment
metadata:
  name: carbon-accounting-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: carbon-accounting-service
  template:
    metadata:
      labels:
        app: carbon-accounting-service
    spec:
      containers:
      - name: carbon-accounting
        image: zero-carbon/carbon-accounting:v2.0
        ports:
        - containerPort: 8080
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "production"
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: url
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /actuator/health/readiness
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 5
---
apiVersion: v1
kind: Service
metadata:
  name: carbon-accounting-service
spec:
  selector:
    app: carbon-accounting-service
  ports:
  - protocol: TCP
    port: 80
    targetPort: 8080
  type: ClusterIP
```

### ç›‘æ§ä¸è¿ç»´

```yaml
# Prometheusç›‘æ§é…ç½®
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: carbon-accounting-monitor
spec:
  selector:
    matchLabels:
      app: carbon-accounting-service
  endpoints:
  - port: http
    path: /actuator/prometheus
    interval: 30s
```

## ğŸ“ˆ å‡çº§å®æ–½è®¡åˆ’

### åˆ†é˜¶æ®µå®æ–½ç­–ç•¥

| é˜¶æ®µ | æ—¶é—´å‘¨æœŸ | ä¸»è¦ä»»åŠ¡ | äº¤ä»˜ç‰© |
|------|---------|---------|--------|
| ç¬¬ä¸€é˜¶æ®µ | å·²å®Œæˆ | åŸºç¡€æ¶æ„æ­å»º | å¾®æœåŠ¡æ¡†æ¶ã€æ•°æ®ä¸­å° |
| ç¬¬äºŒé˜¶æ®µ | å·²å®Œæˆ | æ ¸å¿ƒåŠŸèƒ½å¼€å‘ | å…­å¤§æ ¸å¿ƒæ¨¡å— |
| ç¬¬ä¸‰é˜¶æ®µ | å·²å®Œæˆ | ç³»ç»Ÿé›†æˆæµ‹è¯• | å®Œæ•´ç³»ç»Ÿã€æµ‹è¯•æŠ¥å‘Š |
| ç¬¬å››é˜¶æ®µ | è¿›è¡Œä¸­ | æ–‡æ¡£å®Œå–„éƒ¨ç½² | æŠ€æœ¯æ–‡æ¡£ã€éƒ¨ç½²æŒ‡å— |

### é£é™©æ§åˆ¶æªæ–½

1. **æŠ€æœ¯é£é™©**
   - å»ºç«‹æŠ€æœ¯é¢„ç ”æœºåˆ¶
   - åˆ¶å®šæŠ€æœ¯é€‰å‹æ ‡å‡†
   - å»ºç«‹ä»£ç å®¡æŸ¥æµç¨‹

2. **æ€§èƒ½é£é™©**
   - å»ºç«‹æ€§èƒ½åŸºå‡†æµ‹è¯•
   - å®æ–½å‹åŠ›æµ‹è¯•éªŒè¯
   - å»ºç«‹æ€§èƒ½ç›‘æ§ä½“ç³»

3. **å®‰å…¨é£é™©**
   - å®æ–½å®‰å…¨å¼€å‘ç”Ÿå‘½å‘¨æœŸ
   - å®šæœŸå®‰å…¨æ¼æ´æ‰«æ
   - å»ºç«‹åº”æ€¥å“åº”æœºåˆ¶

## ğŸ“ æŠ€æœ¯æ”¯æŒ

**æ¶æ„å›¢é˜Ÿï¼š** é›¶ç¢³å›­åŒºæ•°å­—å­ªç”Ÿç³»ç»Ÿæ¶æ„ç»„  
**æŠ€æœ¯è´Ÿè´£äººï¼š** é¦–å¸­æ¶æ„å¸ˆ  
**è”ç³»æ–¹å¼ï¼š** kmxunan@gmail.com 
**æ–‡æ¡£ç‰ˆæœ¬ï¼š** V2.0  
**æœ€åæ›´æ–°ï¼š** 2025å¹´6æœˆ10æ—¥

---

**å‡çº§çŠ¶æ€ï¼š** âœ… å·²å®Œæˆå®æ–½  
**ç³»ç»Ÿç‰ˆæœ¬ï¼š** V2.0  
**éƒ¨ç½²ç¯å¢ƒï¼š** ç”Ÿäº§å°±ç»ª